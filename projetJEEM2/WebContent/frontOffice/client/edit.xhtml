<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="../template.xhtml">
	<ui:define name="content">
		<div class="span12 well">
		    <legend>Mon Profile</legend>
			<div class="row">
				<h:form enctype="multipart/form-data" styleClass="span4" id="avatarForm">
					<h:graphicImage name="#{clientController.currentClient.avatar}" library="images" styleClass="span3" id="avatarImg"/>
					<p:fileUpload styleClass="span3"
						fileUploadListener="#{clientController.handleFileUpload}"
						mode="advanced" showButtons="false" update=":avatarForm:avatarImg"
						allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
					<p:growl id="messages" showDetail="true" />
				</h:form>

				<h:form id="inscriptionForm" styleClass="span4">
					<h:messages globalOnly="true" />
					<h:panelGrid columns="1">
						<h:column>
			  			Prenom : <br/> 
			  			<h:inputText value="#{inscriptionForm.firstName}"
								required="true" styleClass="span3" id="prenom" />
							<p class="text-error">
								<h:message for="prenom"></h:message>
							</p>
						</h:column>
						<h:column>
						Nom : <br/> 
						<h:inputText value="#{inscriptionForm.lastName}" required="true"
								styleClass="span3" id="nom" />
							<p class="text-error">
								<h:message for="nom"></h:message>
							</p>
						</h:column>
						<h:commandButton action="#{clientController.update}"
							value="#{strings['submit']}" styleClass="btn btn-warning" />
					</h:panelGrid>
				</h:form>
				<h:form id="changePassword" styleClass="span4">
					<h:messages globalOnly="true" />
					<h:panelGrid columns="1">
						<h:column>
							Ancien mot de passe : <br/> 
							<h:inputText id="passwordCheck"
								value="#{passwordForm.passwordCheck}" required="true"
								styleClass="span3" />
							<p class="text-error">
								<h:message for="passwordCheck"></h:message>
							</p>
						</h:column>
						<h:column>
							Nouveau mot de passe :<br/> 
							<h:inputText id="password" value="#{passwordForm.password}"
								required="true" styleClass="span3" />
							<p class="text-error">
								<h:message for="password"></h:message>
							</p>
						</h:column>
						<h:column>
							<h:outputText value="#{strings['passwordConfirmation']}" /> : <br/> 
							<h:inputText id="passwordConfirmation"
								value="#{passwordForm.passwordConfirmation}" required="true"
								styleClass="span3" />
							<p class="text-error">
								<h:message for="passwordConfirmation"></h:message>
							</p>
						</h:column>
						<h:commandButton action="#{clientController.changePassword}"
							value="#{strings['submit']}" styleClass="btn btn-warning" />
					</h:panelGrid>
				</h:form>
			</div>
		</div>
	</ui:define>
</ui:composition>